# üöÄ –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç ‚Äî primGPT (STM32F103) –≤ VS Code

–ú–∏–Ω–∏–º–∞–ª—å–Ω–∞—è –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è –¥–ª—è –Ω–∞—á–∞–ª–∞ —Ä–∞–±–æ—Ç—ã —Å –ø—Ä–æ–µ–∫—Ç–æ–º STM32F103C8T6 –≤ Visual Studio Code.

---

## ‚úÖ –ß—Ç–æ —É–∂–µ –Ω–∞—Å—Ç—Ä–æ–µ–Ω–æ

- ‚úÖ –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è IntelliSense (`.vscode/c_cpp_properties.json`)
- ‚úÖ –ó–∞–¥–∞—á–∏ —Å–±–æ—Ä–∫–∏ (`.vscode/tasks.json`) —Å –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–º PATH
- ‚úÖ –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –æ—Ç–ª–∞–¥—á–∏–∫–∞ (`.vscode/launch.json`)
- ‚úÖ –û–±–Ω–∞—Ä—É–∂–µ–Ω STM32CubeIDE 1.17.0 –≤ `C:\ST\`

---

## üîß –ü–µ—Ä–≤—ã–π –∑–∞–ø—É—Å–∫ (3 —à–∞–≥–∞)

### –®–∞–≥ 1: –ü–µ—Ä–≤–∞—è —Å–±–æ—Ä–∫–∞ –≤ STM32CubeIDE

‚ö†Ô∏è **–û–±—è–∑–∞—Ç–µ–ª—å–Ω–æ!** –ù—É–∂–Ω–æ –æ–¥–∏–Ω —Ä–∞–∑ —Å–æ–±—Ä–∞—Ç—å –ø—Ä–æ–µ–∫—Ç –≤ STM32CubeIDE –¥–ª—è –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ `Debug/makefile`.

1. –û—Ç–∫—Ä–æ–π—Ç–µ **STM32CubeIDE**
2. File ‚Üí Open Projects from File System ‚Üí –≤—ã–±–µ—Ä–∏—Ç–µ `primGPT`
3. Project ‚Üí **Build All** (Ctrl+B)
4. –î–æ–∂–¥–∏—Ç–µ—Å—å –æ–∫–æ–Ω—á–∞–Ω–∏—è —Å–±–æ—Ä–∫–∏ (~30-60 —Å–µ–∫)

‚úÖ –í –ø–∞–ø–∫–µ `Debug/` –¥–æ–ª–∂–Ω—ã –ø–æ—è–≤–∏—Ç—å—Å—è `primGPT.elf` –∏ `makefile`

---

### –®–∞–≥ 2: –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ —Ä–∞—Å—à–∏—Ä–µ–Ω–∏–µ Cortex-Debug

–î–ª—è –æ—Ç–ª–∞–¥–∫–∏ –≤ VS Code —É—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ —Ä–∞—Å—à–∏—Ä–µ–Ω–∏–µ:

```bash
code --install-extension marus25.cortex-debug
```

–ò–ª–∏ —á–µ—Ä–µ–∑ GUI: Extensions (Ctrl+Shift+X) ‚Üí –∏—Å–∫–∞—Ç—å "**Cortex-Debug**" ‚Üí Install.

---

### –®–∞–≥ 3: –ì–æ—Ç–æ–≤–æ! –ù–∞—á–∏–Ω–∞–π—Ç–µ —Ä–∞–±–æ—Ç—É

–¢–µ–ø–µ—Ä—å –º–æ–∂–Ω–æ —Ä–∞–±–æ—Ç–∞—Ç—å –ø–æ–ª–Ω–æ—Å—Ç—å—é –≤ VS Code:

| –î–µ–π—Å—Ç–≤–∏–µ | –ö–æ–º–∞–Ω–¥–∞ |
|----------|---------|
| **–°–±–æ—Ä–∫–∞** | `Ctrl+Shift+B` |
| **–ü—Ä–æ—à–∏–≤–∫–∞** | `Ctrl+Shift+P` ‚Üí "Run Task" ‚Üí "Flash" |
| **–°–±–æ—Ä–∫–∞ + –ø—Ä–æ—à–∏–≤–∫–∞** | `Ctrl+Shift+P` ‚Üí "Run Task" ‚Üí "Build & Flash" |
| **–û—Ç–ª–∞–¥–∫–∞** | `F5` (–∑–∞–ø—É—Å—Ç–∏—Ç —Å–±–æ—Ä–∫—É ‚Üí –ø—Ä–æ—à–∏–≤–∫—É ‚Üí –æ—Ç–ª–∞–¥–∫—É) |

---

## üìù –û—Å–Ω–æ–≤–Ω—ã–µ –≥–æ—Ä—è—á–∏–µ –∫–ª–∞–≤–∏—à–∏

### –†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ
- `Ctrl+Space` ‚Äî –∞–≤—Ç–æ–¥–æ–ø–æ–ª–Ω–µ–Ω–∏–µ
- `F12` ‚Äî –ø–µ—Ä–µ–π—Ç–∏ –∫ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—é
- `Shift+F12` ‚Äî –Ω–∞–π—Ç–∏ –≤—Å–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è
- `F2` ‚Äî –ø–µ—Ä–µ–∏–º–µ–Ω–æ–≤–∞—Ç—å —Å–∏–º–≤–æ–ª

### –°–±–æ—Ä–∫–∞ –∏ –æ—Ç–ª–∞–¥–∫–∞
- `Ctrl+Shift+B` ‚Äî —Å–±–æ—Ä–∫–∞
- `F5` ‚Äî –∑–∞–ø—É—Å–∫ –æ—Ç–ª–∞–¥–∫–∏
- `F9` ‚Äî —É—Å—Ç–∞–Ω–æ–≤–∏—Ç—å/—Å–Ω—è—Ç—å breakpoint
- `F10` ‚Äî Step Over (—Å–ª–µ–¥—É—é—â–∞—è —Å—Ç—Ä–æ–∫–∞)
- `F11` ‚Äî Step Into (–≤–æ–π—Ç–∏ –≤ —Ñ—É–Ω–∫—Ü–∏—é)
- `Shift+F5` ‚Äî –æ—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –æ—Ç–ª–∞–¥–∫—É

---

## üîç –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ—Å–ª–µ —Å–±–æ—Ä–∫–∏

–ü–æ—Å–ª–µ –ø–µ—Ä–≤–æ–π —Å–±–æ—Ä–∫–∏ –≤ STM32CubeIDE –ø—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ –≤—Å—ë —Ä–∞–±–æ—Ç–∞–µ—Ç:

### –¢–µ—Å—Ç 1: –°–±–æ—Ä–∫–∞ –≤ VS Code

```bash
# –í —Ç–µ—Ä–º–∏–Ω–∞–ª–µ VS Code (Ctrl+`)
make -C Debug all
```

–î–æ–ª–∂–Ω–æ –ø—Ä–æ–π—Ç–∏ —É—Å–ø–µ—à–Ω–æ –±–µ–∑ –æ—à–∏–±–æ–∫.

### –¢–µ—Å—Ç 2: –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–∞–∑–º–µ—Ä–∞ –ø—Ä–æ—à–∏–≤–∫–∏

```bash
arm-none-eabi-size Debug/primGPT.elf
```

–û–∂–∏–¥–∞–µ–º—ã–π –≤—ã–≤–æ–¥:
```
   text    data     bss     dec     hex filename
  32xxx    xxx   xxxxx   xxxxx   xxxxx Debug/primGPT.elf
```

### –¢–µ—Å—Ç 3: –ü—Ä–æ—à–∏–≤–∫–∞

1. –ü–æ–¥–∫–ª—é—á–∏—Ç–µ ST-Link V2 –∫ –ø–ª–∞—Ç–µ Blue Pill
2. –í VS Code: `Ctrl+Shift+P` ‚Üí "Run Task" ‚Üí "Flash"
3. –î–æ–ª–∂–Ω–æ –∑–∞–≤–µ—Ä—à–∏—Ç—å—Å—è: `** Verified OK **`

---

## üìö –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è

- **[DEBUG_GUIDE.md](DEBUG_GUIDE.md)** ‚Äî üêõ –ø–æ–ª–Ω–æ–µ —Ä—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ –ø–æ –æ—Ç–ª–∞–¥–∫–µ —Å Cortex-Debug (–¥–ª—è –Ω–∞—á–∏–Ω–∞—é—â–∏—Ö)
- **[VSCODE_GUIDE.md](VSCODE_GUIDE.md)** ‚Äî –ø–æ–ª–Ω–æ–µ —Ä—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ –ø–æ VS Code
- **–†—É—Å—Å–∫–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –≤ –∫–æ—Ä–Ω–µ –ø—Ä–æ–µ–∫—Ç–∞:**
  - [PROJECT_FIRMWARE_LESSON.md](PROJECT_FIRMWARE_LESSON.md) ‚Äî –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ firmware
  - [README_RAM_RTOS.md](README_RAM_RTOS.md) ‚Äî –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞ –ø–∞–º—è—Ç–∏ –∏ RTOS
  - [README_UART.md](README_UART.md) ‚Äî –ø—Ä–æ—Ç–æ–∫–æ–ª UART
  - [README_INTERRUPTS.md](README_INTERRUPTS.md) ‚Äî —Å–∏—Å—Ç–µ–º–∞ –ø—Ä–µ—Ä—ã–≤–∞–Ω–∏–π

---

## ‚ùì –ß–∞—Å—Ç—ã–µ –≤–æ–ø—Ä–æ—Å—ã

### Q: –ù—É–∂–Ω–æ –ª–∏ –¥–æ–±–∞–≤–ª—è—Ç—å toolchain –≤ —Å–∏—Å—Ç–µ–º–Ω—ã–π PATH?

**A**: –ù–µ—Ç! PATH —É–∂–µ –Ω–∞—Å—Ç—Ä–æ–µ–Ω –≤ `.vscode/tasks.json`. –°–±–æ—Ä–∫–∞ —á–µ—Ä–µ–∑ VS Code (Ctrl+Shift+B) —Ä–∞–±–æ—Ç–∞–µ—Ç –±–µ–∑ –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã—Ö –Ω–∞—Å—Ç—Ä–æ–µ–∫.

### Q: –ú–æ–∂–Ω–æ –ª–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Ç–æ–ª—å–∫–æ VS Code, –±–µ–∑ STM32CubeIDE?

**A**: –ü–æ—á—Ç–∏. STM32CubeIDE –Ω—É–∂–µ–Ω —Ç–æ–ª—å–∫–æ –¥–ª—è:
1. –ü–µ—Ä–≤–æ–π –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ `Debug/makefile` (–æ–¥–∏–Ω —Ä–∞–∑)
2. –ò–∑–º–µ–Ω–µ–Ω–∏—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ –ø–µ—Ä–∏—Ñ–µ—Ä–∏–∏ —á–µ—Ä–µ–∑ CubeMX (`.ioc` —Ñ–∞–π–ª)

–í—Å–µ –æ—Å—Ç–∞–ª—å–Ω–æ–µ (—Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –∫–æ–¥–∞, —Å–±–æ—Ä–∫–∞, –æ—Ç–ª–∞–¥–∫–∞) –¥–µ–ª–∞–µ—Ç—Å—è –≤ VS Code.

### Q: –ö–∞–∫ –∏–∑–º–µ–Ω–∏—Ç—å –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é –ø–µ—Ä–∏—Ñ–µ—Ä–∏–∏ (UART, SPI, GPIO)?

**A**:
1. –û—Ç–∫—Ä–æ–π—Ç–µ `primGPT.ioc` –≤ STM32CubeMX (–∏–ª–∏ STM32CubeIDE)
2. –ò–∑–º–µ–Ω–∏—Ç–µ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é
3. Generate Code
4. –ü—Ä–æ–¥–æ–ª–∂–∞–π—Ç–µ —Ä–∞–±–æ—Ç—É –≤ VS Code

‚ö†Ô∏è **–í–∞–∂–Ω–æ**: –≤–µ—Å—å –≤–∞—à –∫–æ–¥ –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å –≤ –±–ª–æ–∫–∞—Ö `/* USER CODE BEGIN */` ... `/* USER CODE END */`, –∏–Ω–∞—á–µ –æ–Ω –±—É–¥–µ—Ç –ø–µ—Ä–µ–∑–∞–ø–∏—Å–∞–Ω –ø—Ä–∏ –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏.

### Q: –ö–∞–∫ –ø–æ—Å–º–æ—Ç—Ä–µ—Ç—å –ª–æ–≥–∏ —Å UART3 (debug output)?

**A**: –ü–æ–¥–∫–ª—é—á–∏—Ç–µ USB-TTL –∞–¥–∞–ø—Ç–µ—Ä –∫ UART3:
- **TX (PB10)** ‚Üí RX –∞–¥–∞–ø—Ç–µ—Ä–∞
- **RX (PB11)** ‚Üí TX –∞–¥–∞–ø—Ç–µ—Ä–∞
- **GND** ‚Üí GND –∞–¥–∞–ø—Ç–µ—Ä–∞

–ù–∞—Å—Ç—Ä–æ–π–∫–∏: **115200 8N1**

–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –ª—é–±–æ–π —Ç–µ—Ä–º–∏–Ω–∞–ª (PuTTY, RealTerm, CoolTerm).

### Q: –ö–∞–∫–∏–µ –∑–∞–¥–∞—á–∏ —Ä–∞–±–æ—Ç–∞—é—Ç –≤ –ø—Ä–æ–µ–∫—Ç–µ?

**A**: –¢—Ä–∏ FreeRTOS –∑–∞–¥–∞—á–∏:
- **defaultTask** (1024 B, Normal) ‚Äî –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ Tick –∏ –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞ –ø–∞–º—è—Ç–∏ –∫–∞–∂–¥—ã–µ 5 —Å–µ–∫
- **LedTask** (512 B, Normal) ‚Äî –º–∏–≥–∞–Ω–∏–µ LED PC13 –∫–∞–∂–¥—É—é —Å–µ–∫—É–Ω–¥—É
- **Uart1Task** (2048 B, AboveNormal) ‚Äî –æ–±—Ä–∞–±–æ—Ç–∫–∞ –∫–æ–º–∞–Ω–¥ UART1 (38400 baud)

### Q: –û—Ç–ª–∞–¥—á–∏–∫ –Ω–µ –æ—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç—Å—è –Ω–∞ breakpoint

**A**: –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ:
1. –ü—Ä–æ–µ–∫—Ç —Å–æ–±—Ä–∞–Ω –≤ Debug –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ (`-O0 -g3`)
2. –ü—Ä–æ—à–∏–≤–∫–∞ –∞–∫—Ç—É–∞–ª—å–Ω–∞—è (–ø–µ—Ä–µ—Å–æ–±–µ—Ä–∏—Ç–µ –∏ –ø—Ä–æ—à–µ–π—Ç–µ)
3. Breakpoint —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω –≤ –∫–æ–¥–µ, –∫–æ—Ç–æ—Ä—ã–π —Ä–µ–∞–ª—å–Ω–æ –≤—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è

### Q: –û—à–∏–±–∫–∞ "Error: init mode failed (unable to connect to the target)"

**A**: –ü—Ä–æ–≤–µ—Ä—å—Ç–µ:
1. ST-Link V2 –ø–æ–¥–∫–ª—é—á–µ–Ω –∫ –ü–ö –∏ –ø–ª–∞—Ç–µ
2. –ü–ª–∞—Ç–∞ –∑–∞–ø–∏—Ç–∞–Ω–∞ (3.3V)
3. –£—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ã –¥—Ä–∞–π–≤–µ—Ä—ã ST-Link
4. ST-Link –Ω–µ –∑–∞–Ω—è—Ç –¥—Ä—É–≥–æ–π –ø—Ä–æ–≥—Ä–∞–º–º–æ–π (–∑–∞–∫—Ä–æ–π—Ç–µ STM32CubeIDE)

---

## üéØ Workflow: CubeMX + VS Code

–†–µ–∫–æ–º–µ–Ω–¥—É–µ–º—ã–π —Ä–∞–±–æ—á–∏–π –ø—Ä–æ—Ü–µ—Å—Å:

1. **–ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è**: STM32CubeMX (–ø–µ—Ä–∏—Ñ–µ—Ä–∏—è, clock, pins)
2. **–†–∞–∑—Ä–∞–±–æ—Ç–∫–∞**: VS Code (–∫–æ–¥, —Å–±–æ—Ä–∫–∞, –æ—Ç–ª–∞–¥–∫–∞)
3. **–ü–æ–≤—Ç–æ—Ä–∏—Ç—å**: –∏–∑–º–µ–Ω–µ–Ω–∏—è ‚Üí —Å–±–æ—Ä–∫–∞ ‚Üí —Ç–µ—Å—Ç

---

## üìä –•–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫–∏ –ø–ª–∞—Ç—ã

- **MCU:** STM32F103C8T6 (Blue Pill)
- **Core:** ARM Cortex-M3, 72 MHz
- **Flash:** 64 KB (128 KB –Ω–∞ –Ω–µ–∫–æ—Ç–æ—Ä—ã—Ö —á–∏–ø–∞—Ö)
- **RAM:** 20 KB (–æ–≥—Ä–∞–Ω–∏—á–µ–Ω–æ! –°–ª–µ–¥–∏—Ç–µ –∑–∞ –ø–∞–º—è—Ç—å—é)
- **FreeRTOS Heap:** 14 KB (70% RAM)

‚ö†Ô∏è **–í–Ω–∏–º–∞–Ω–∏–µ:** RAM –æ—á–µ–Ω—å –æ–≥—Ä–∞–Ω–∏—á–µ–Ω! –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫—É –ø–∞–º—è—Ç–∏ (—Å–º. [README_RAM_RTOS.md](README_RAM_RTOS.md)).

---

*–ü–æ—Å–ª–µ–¥–Ω–µ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ: 2026-02-16*

**–ì–æ—Ç–æ–≤ –∫ —Ä–∞–±–æ—Ç–µ!** üöÄ –ù–∞–∂–º–∏—Ç–µ `Ctrl+Shift+B` –¥–ª—è –ø–µ—Ä–≤–æ–π —Å–±–æ—Ä–∫–∏ –≤ VS Code.
