# Урок 1: STM32 и HAL — история и практика

## 1) Исторический контекст (кратко)

- Ранние MCU-программы писались почти полностью через регистры.
- Затем появились vendor-библиотеки (SPL у ST), чтобы не писать "битовую рутину" вручную.
- Современный путь ST: CubeMX + HAL (+ при желании LL), где HAL дает переносимость и быстрое создание проекта.

## 2) Где это в вашем проекте

- Инициализация периферии: `Core/Src/main.c`
  - `MX_GPIO_Init()`
  - `MX_USART1_UART_Init()`
  - `MX_USART3_UART_Init()`
  - `MX_SPI1_Init()`
- Работа с периферией:
  - GPIO: `HAL_GPIO_TogglePin`, `HAL_GPIO_WritePin`
  - UART: `HAL_UART_Init`, `HAL_UART_Receive_IT`, `HAL_UART_Transmit`
  - SPI: `HAL_SPI_Transmit`, `HAL_SPI_Receive`

## 3) Что важно понимать новичку

- HAL ускоряет старт и снижает риск ошибок в low-level настройке.
- Цена: немного больше кода/накладных расходов, чем "голые регистры".
- Для проекта с RTOS и несколькими интерфейсами HAL — практичный компромисс.

## 4) От простого к сложному

1. Простой уровень: мигать LED (`PC13`).
2. Средний: принять байт по UART в прерывании.
3. Продвинутый: связать ISR + очередь FreeRTOS + обработчик команд.

## 5) Практика в этом проекте

- Найдите в `main.c` блок `LedTask`: это минимальный пример "HAL + RTOS delay".
- Найдите в `uart.c` callback `HAL_UART_RxCpltCallback`: это реальная ISR-логика поверх HAL.

